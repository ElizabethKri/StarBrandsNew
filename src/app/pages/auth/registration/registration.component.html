<div>
  <app-header></app-header>
  <h1 class = "text">Новые клиенты</h1>
  <h2 class="mx-5">Создать аккаунт очень просто. Просто заполните форму ниже и получайте все преимущества зарегистрированных клиентов:</h2>
  <ol class="mx-5">
    <li>СПЕЦИАЛЬНЫЕ ПРЕДЛОЖЕНИЯ</li>
    <p>Доступ к мероприятиям и специальным предложениям</p>
    <li>СПИСОК ИЗБРАННОГО</li>
    <p>Добавьте ваши любимые товары</p>
  </ol>
</div>
<h2 class = "text">Регистрация</h2>
<div class="d-flex   m-auto registration-input-wrap md:flex-row gap-3 card">
  <div>
    <span class="mx-3 user">Email</span>
    <input type="text"
           class="mt-3"
           pInputText
           placeholder="aaa@gmail.com"
           [ngClass]="{'input-error': !login}"
           [(ngModel)]="login"/>
  </div>
  <div>
    <span class="mx-3 user">Пароль</span>
    <p-password type="password"
           class="mt-3"
           [ngClass]="{'input-error': !psw}"
           [(ngModel)]="psw"
           [toggleMask]="true"/>
  </div>

  <div>
    <span class="mx-3 user">Подтверждение пароля</span>
    <p-password type="password"
           class="mt-3"
           [ngClass]="{'input-error': !pswRepeat}"
           [(ngModel)]="pswRepeat"
           [toggleMask]="true"/>
  </div>

</div>
<div class="mt-5">
  <h2 class = "text">Личная информация</h2>
  <div class = "d-flex   m-auto registration-input-wrap  md:flex-row gap-3 user-info card" [formGroup]="userForm" (ngSubmit)="onSubmit()">
    <div class = "mt-3">
      <!--          <span class="mx-3">Имя</span>-->
      <ng-container *ngTemplateOutlet="userFieldTitle; context: {titleValue: 'Имя'}"></ng-container>
      <input type="text"
             class="mt-3"
             pInputText
             formControlName = "firstName"/>
    </div>

    <div class = "mt-3">
      <!--            <span class="mx-3">Фамилия</span>-->
      <ng-container *ngTemplateOutlet="userFieldTitle; context: {titleValue: 'Фамилия'}"></ng-container>
      <input type="text"
             class="mt-3"
             pInputText
             formControlName = "lastName"/>
    </div>

    <div class = "mt-3">
      <!--          <span class="mx-3">День рождения</span>-->
      <ng-container *ngTemplateOutlet="userFieldTitle; context: {titleValue: 'День рождения'}"></ng-container>
      <p-calendar
        formControlName = "birthDay"
        (onSelect)="selectDate($event)" >
      </p-calendar>
    </div>

    <div class = "mt-3">
      <!--          <span class="mx-3">Телефон</span>-->
      <ng-container *ngTemplateOutlet="userFieldTitle; context: {titleValue: 'Телефон'}"></ng-container>
      <p-inputMask
        mask="(999) 999-9999"
        placeholder="(999) 999-9999"></p-inputMask>
    </div>

    <div class = "mt-3">
      <!--          <span class="mx-3">Пол</span>-->
      <ng-container *ngTemplateOutlet="userFieldTitle; context: {titleValue: 'Пол'}"></ng-container>
      <p-dropdown [options]="genders"

                  optionLabel="name"></p-dropdown>
    </div>


  <div class="mt-3">
    <p-checkbox (onChange)="saveUser()"
                label="Сохранить пользователя в локальном хранилище"
                name="groupname" [binary]="true"
               >

    </p-checkbox>

  </div>
  <div class="mt-5 d-flex justify-content-center">
    <button [disabled]="!login || !psw || !pswRepeat"
            (click)="registration($event)"
            type="button"
            class="btn btn-info">
      Зарегистрироваться</button>
  </div>
    <ng-template #userFieldTitle let-value = "titleValue">
      <span class = "mx-3">{{value}}</span>
    </ng-template>
</div>
</div>
<p-toast position="top-left"></p-toast>
